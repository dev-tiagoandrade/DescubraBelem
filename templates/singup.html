{% load static %}
<html lang="pt-br">
    <head>
        <title>Login</title>
        <meta charset="utf-8" />
        <meta name="description" content="The most advanced Tailwind CSS & Bootstrap 5 Admin Theme with 40 unique prebuilt layouts on Themeforest trusted by 100,000 beginners and professionals. Multi-demo, Dark Mode, RTL support and complete React, Angular, Vue, Asp.Net Core, Rails, Spring, Blazor, Django, Express.js, Node.js, Flask, Symfony & Laravel versions. Grab your copy now and get life-time updates for free." />
        <meta name="keywords" content="tailwind, tailwindcss, metronic, bootstrap, bootstrap 5, angular, VueJs, React, Asp.Net Core, Rails, Spring, Blazor, Django, Express.js, Node.js, Flask, Symfony & Laravel starter kits, admin themes, web design, figma, web development, free templates, free admin themes, bootstrap theme, bootstrap template, bootstrap dashboard, bootstrap dak mode, bootstrap button, bootstrap datepicker, bootstrap timepicker, fullcalendar, datatables, flaticon" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <meta property="og:locale" content="pt_BR" />
        <meta property="og:type" content="article" />
        <link rel="shortcut icon" href="{% static 'assets/media/logos/favicon.ico'" />
        <!--begin::Fonts(mandatory for all pages)-->
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inter:300,400,500,600,700" />
        <!--end::Fonts-->
        <!--begin::Global Stylesheets Bundle(mandatory for all pages)-->
        <link href="{% static 'assets/plugins/global/plugins.bundle.css' %}" rel="stylesheet" type="text/css" />
        <link href="{% static 'assets/css/style.bundle.css' %}" rel="stylesheet" type="text/css" />

        <!--begin::Page bg image-->
        <style>
            body {
                background-image: url("{% static 'assets/img/bg.png' %}");
            }

            [data-bs-theme="dark"] body {
                background-image: url("{% static 'assets/img/bg.png' %}");
            }
        </style>
        <!--end::Page bg image-->

        <!--end::Global Stylesheets Bundle-->
        <script>// Frame-busting to prevent site from being loaded within a frame without permission (click-jacking) if (window.top != window.self) { window.top.location.replace(window.self.location.href); }</script>

    </head>

    <body id="kt_body" class="app-blank bgi-size-cover bgi-attachment-fixed bgi-position-center">
        <!--begin::Theme mode setup on page load-->
        <script>
            var defaultThemeMode = "light";
            var themeMode;

            if ( document.documentElement ) {
                if ( document.documentElement.hasAttribute("data-bs-theme-mode")) {
                    themeMode = document.documentElement.getAttribute("data-bs-theme-mode");
                } else {
                    if ( localStorage.getItem("data-bs-theme") !== null ) {
                        themeMode = localStorage.getItem("data-bs-theme");
                    } else {
                        themeMode = defaultThemeMode;
                    }
                }

                if (themeMode === "system") {
                    themeMode = window.matchMedia("(prefers-color-scheme: dark)").matches ? "dark" : "light";
                }

                document.documentElement.setAttribute("data-bs-theme", themeMode);
            }
        </script>
        <!--end::Theme mode setup on page load-->
        <!--begin::Root-->
        <div class="d-flex flex-column flex-lg-row flex-column-fluid">
            <div class="d-flex flex-lg-row-fluid">
            <div class="d-flex flex-column flex-center pb-0 pb-lg-10 p-10 w-100">
                <img class="theme-light-show mx-auto mw-100 w-150px w-lg-300px mb-10 mb-lg-20" src="{% static 'assets/img/logo_branca_db.png' %}" alt="">
                <img class="theme-dark-show mx-auto mw-100 w-150px w-lg-300px mb-10 mb-lg-20" src="{% static 'assets/img/logo_branca_db.png' %}" alt="">
                <h1 class="text-white fs-3 fw-semibold text-center mb-7">O seu <span class="fw-bold">Guia Completo</span> na cop 30!</h1>
            </div>
        </div>

        <div class="d-flex flex-column-fluid flex-lg-row-auto justify-content-center justify-content-lg-end p-12">
            <div class="bg-body d-flex flex-column flex-center rounded-4 w-md-600px p-10">
                <div class="d-flex flex-center flex-column align-items-center h-lg-100 w-md-400px">
                    <div class="d-flex flex-center flex-column flex-column-fluid pb-15 pb-lg-20">
                        <form class="form w-100 fv-plugins-bootstrap5 fv-plugins-framework" novalidate="novalidate" id="kt_sign_up_form" data-gtm-form-interact-id="0" method="post">
                            {% csrf_token %}

                            <div class="text-center mb-11">
                                <h1 class="text-gray-900 fw-bolder mb-3">Cadastre-se</h1>
                            </div>

                            <!-- Exibindo mensagens -->
                            {% if form.non_field_errors %}
                                <div class="alert alert-danger">
                                    {% for error in form.non_field_errors %}
                                        <div>{{ error }}</div>
                                    {% endfor %}
                                </div>
                            {% endif %}

                            <!-- Username input -->
                            <div class="fv-row mb-8">
                                <input type="text" required placeholder="Nome de Usuário" name="username" autocomplete="off"
                                       value="{{ form.username.value|default_if_none:'' }}"
                                       class="form-control form-control-solid {% if form.username.errors %}is-invalid{% endif %}">
                                {% if form.username.errors %}
                                    <div class="invalid-feedback">
                                        {% for error in form.username.errors %}
                                            {{ error }}
                                        {% endfor %}
                                    </div>
                                {% endif %}
                            </div>
                            <!--begin::Input group--->
                            <div class="fv-row mb-8 fv-plugins-icon-container">
                                <!--begin::Email-->
                                <input type="email" required placeholder="Digite seu emal" name="email" autocomplete="off"
                                       value="{{ form.email.value|default_if_none:'' }}"
                                       class="form-control form-control-solid {% if form.email.errors %}is-invalid{% endif %}">
                                {% if form.email.errors %}
                                    <div class="invalid-feedback">
                                        {% for error in form.email.errors %}
                                            {{ error }}
                                        {% endfor %}
                                    </div>
                                {% endif %}
                                <!--end::Email-->
                            <div class="fv-plugins-message-container fv-plugins-message-container--enabled invalid-feedback"></div></div>

                            <!--begin::Input group-->
                            <div class="fv-row mb-8 fv-plugins-icon-container" data-kt-password-meter="true">
                                <!--begin::Wrapper-->
                                <div class="mb-1">
                                    <!--begin::Input wrapper-->
                                    <div class="position-relative mb-3">
                                        <input class="form-control form-control-solid" type="password" placeholder="Password" name="password" autocomplete="off" data-gtm-form-interact-field-id="0">

                                        <span class="btn btn-sm btn-icon position-absolute translate-middle top-50 end-0 me-n2" data-kt-password-meter-control="visibility">
                                            <i class="ki-duotone ki-eye-slash fs-2"></i>                    <i class="ki-duotone ki-eye fs-2 d-none"></i>                </span>
                                    </div>
                                    <!--end::Input wrapper-->

                                    <!--begin::Meter-->
                                    <div class="d-flex align-items-center mb-3" data-kt-password-meter-control="highlight">
                                        <div class="flex-grow-1 bg-secondary bg-active-success rounded h-5px me-2"></div>
                                        <div class="flex-grow-1 bg-secondary bg-active-success rounded h-5px me-2"></div>
                                        <div class="flex-grow-1 bg-secondary bg-active-success rounded h-5px me-2"></div>
                                        <div class="flex-grow-1 bg-secondary bg-active-success rounded h-5px"></div>
                                    </div>
                                    <!--end::Meter-->
                                </div>
                                <!--end::Wrapper-->

                                <!--begin::Hint-->
                                <div class="text-muted">
                                    Use 8 ou mais caracteres misturando letras, números e símbolos.
                                </div>
                                <!--end::Hint-->
                            <div class="fv-plugins-message-container fv-plugins-message-container--enabled invalid-feedback"></div></div>
                            <!--end::Input group--->

                            <!--end::Input group--->
                            <div class="fv-row mb-8 fv-plugins-icon-container">
                                <!--begin::Repeat Password-->
                                <input type="text" placeholder="Confirme a Senha" name="confirm-password" autocomplete="off" class="form-control form-control-solid">
                                <!--end::Repeat Password-->
                            <div class="fv-plugins-message-container fv-plugins-message-container--enabled invalid-feedback"></div></div>
                            <!--end::Input group--->

                            <!--begin::Submit button-->
                            <div class="d-grid mb-10">
                                <button type="submit" id="kt_sign_up_submit" class="btn btn-primary">

                        <!--begin::Indicator label-->
                        <span class="indicator-label">
                            Criar Conta</span>
                        <!--end::Indicator label-->

                        <!--begin::Indicator progress-->
                        <span class="indicator-progress">
                            Please wait...    <span class="spinner-border spinner-border-sm align-middle ms-2"></span>
                        </span>
                        <!--end::Indicator progress-->        </button>
                            </div>
                            <!--end::Submit button-->

                            <!--begin::Sign up-->
                            <div class="text-gray-500 text-center fw-semibold fs-6">
                                Já possui uma conta?

                                <a href="{% url 'login' %}" class="link-primary fw-semibold">
                                    Faça Login
                                </a>
                            </div>
                            <!--end::Sign up-->
                        </form>
                    </div>
                </div>
            </div>
        </div>
        </div>
        <!--end::Root-->
        <script src="{% static 'assets/js/custom/authentication/sign-up/general.js' %}"></script>
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                const passwordInput = document.querySelector('input[name="password"]');
                const confirmPasswordInput = document.querySelector('input[name="confirm-password"]');
                const passwordMeter = document.querySelectorAll('[data-kt-password-meter-control="highlight"] .bg-secondary');
                const hintMessage = document.querySelector('.fv-plugins-message-container.invalid-feedback');

                // Função para verificar os requisitos de senha
                function checkPasswordStrength(password) {
                    // Requisitos: mínimo de 8 caracteres, letra, número e símbolo
                    const lengthRequirement = password.length >= 8;
                    const letterRequirement = /[a-zA-Z]/.test(password);
                    const numberRequirement = /[0-9]/.test(password);
                    const symbolRequirement = /[!@#$%^&*()-_,.?\":{}|<>]/.test(password);

                    return [lengthRequirement, letterRequirement, numberRequirement, symbolRequirement];
                }

                // Função para atualizar o medidor de senha
                function updatePasswordMeter(strengths) {
                    const requirements = [
                        'lengthRequirement',      // Comprimento
                        'letterRequirement',      // Letra
                        'numberRequirement',      // Número
                        'symbolRequirement'       // Símbolo
                    ];

                    requirements.forEach((requirement, index) => {
                        const bar = passwordMeter[index];
                        if (strengths[index]) {
                            bar.classList.add('active');
                        } else {
                            bar.classList.remove('active');
                        }
                    });
                }

                // Função para verificar se as senhas coincidem
                function validatePasswordMatch() {
                    const password = passwordInput.value;
                    const confirmPassword = confirmPasswordInput.value;

                    if (password === confirmPassword) {
                        hintMessage.textContent = "As senhas coincidem.";
                        hintMessage.classList.remove('text-danger');
                        hintMessage.classList.add('text-success');
                    } else {
                        hintMessage.textContent = "As senhas não coincidem.";
                        hintMessage.classList.remove('text-success');
                        hintMessage.classList.add('text-danger');
                    }
                }

                // Evento para validar os requisitos de senha ao digitar no campo de senha
                passwordInput.addEventListener("input", function () {
                    const password = passwordInput.value;
                    const strengths = checkPasswordStrength(password);

                    updatePasswordMeter(strengths);
                });

                // Evento para verificar se as senhas coincidem ao digitar no campo de confirmação de senha
                confirmPasswordInput.addEventListener("input", validatePasswordMatch);
            });
</script>
        <svg id="SvgjsSvg1001" width="2" height="0" xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.dev" style="overflow: hidden; top: -100%; left: -100%; position: absolute; opacity: 0;"><defs id="SvgjsDefs1002"></defs><polyline id="SvgjsPolyline1003" points="0,0"></polyline><path id="SvgjsPath1004" d="M0 0 "></path></svg>
    </body>
</html>